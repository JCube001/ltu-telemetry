digraph aeroc2_parser_state_machine {
  ""   [shape=none]
  node [shape=circle, fontsize=12, width=1.25]
  edge [fontsize=12]
  rankdir=LR
  
  "" -> "Start"
  "Start"       -> "Idle"         [label="Initialize parser"]
  "Idle"        -> "Idle"         [label="Read byte != STX"]
  "Idle"        -> "Got STX"      [label="Read byte == STX"]
  "Got STX"     -> "Got Len"      [label="Read byte"]
  "Got Len"     -> "Got Seq"      [label="Read byte"]
  "Got Seq"     -> "Got Sys"      [label="Read byte"]
  "Got Sys"     -> "Got Comp"     [label="Read byte"]
  "Got Comp"    -> "Got Type"     [label="Read byte"]
  "Got Comp"    -> "Got Payload"  [label="Payload length == 0"]
  "Got Type"    -> "Got Type"     [label="Payload index < length"]
  "Got Type"    -> "Got Payload"  [label="Read checksum"]
  "Got Payload" -> "Idle"         [label="Invalid checksum"]
  "Got Payload" -> "Idle"         [label="Valid checksum, message received"]
  "Got Payload" -> "Got STX"      [label="Invalid checksum but got STX"]
}
